<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
.carousel-inner>.item>.container, .carousel-inner>.item>a>img {
	width: 70%;
	margin: auto;
}

.thumbnail {
	margin-bottom: 0;
}

</style>

<body>
	<div class="col-md-10" style=" max-height:100%; overflow-y:scroll;">
		<div class="container" style="align:center;">
			<br>
			<div id="myCarousel" class="carousel slide" style="width: 100%;">
				<!-- Indicators -->
				<ol class="carousel-indicators">
					<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					<li data-target="#myCarousel" data-slide-to="1"></li>
					<li data-target="#myCarousel" data-slide-to="2"></li>
				</ol>

				<!-- Wrapper for slides -->
				<div class="carousel-inner" role="listbox" align="center">

					<div class="item active">
						<div class="container" align="center">
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href1" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href2" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href3" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href4" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href5" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div>
							</div>
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href6" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href7" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href8" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href9" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href10" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div>
							</div>
						</div>
						<!-- 					<div class="caption" allign="center"> -->
						<!-- 						<h3>Flowers</h3> -->
						<!-- 						<p>Beatiful flowers in Kolymbari, Crete.</p> -->
						<!-- 					</div> -->
					</div>

					<div class="item">
						<div class="container" align="center">
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href11" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href12" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href13" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href14" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href15" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div>
							</div>
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href16" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href17" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href18" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href19" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href20" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div>
							</div>
						</div>
					</div>

					<div class="item">
						<div class="container" align="center">
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href21" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href22" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href23" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href24" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href25" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div>
							</div>
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href26" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href27" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href28" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href29" style="width: 125px;"></div>
								</div>
								<div class="col-md-2" style="width: 125px;">
									<div class="thumbnail href30" style="width: 125px;"></div>
								</div>
								<div class="col-md-1"></div> 
							</div>
						</div>
					</div>
				</div>

				<!-- Left and right controls -->
				<a class="left carousel-control" href="#myCarousel" role="button"
					data-slide="prev"> <span
					class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a> <a class="right carousel-control" href="#myCarousel" role="button"
					data-slide="next"> <span
					class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>
		<nav class="navbar navbar-default"
			style="width: 86%; margin-left: 7%;">
			<div class="container-fluid" >
				<ul class="nav navbar-nav" style="position: absolute; left:32%">
					<li class="active"><a href="#myCarousel" value="0">조회순</a></li>
					<li><a href="#myCarousel" value="1">평점순(현재상영영화)</a></li>
					<li><a href="#myCarousel" value="2">평점순(모든영화)</a></li>
				</ul>
			</div>
		</nav>
		<div class="container bottom-container" style="position:relative; height:680;">
				<div class="container movielist" style="width: 80%;position:absolute; left:10%; top:0;">
					<br>
					<div id="myCarousel1" class="carousel slide" style="width: 100%;">
						<!-- Indicators -->
						<ol class="carousel-indicators">
							<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
							<li data-target="#myCarousel" data-slide-to="1"></li>
							<li data-target="#myCarousel" data-slide-to="2"></li>
						</ol>
						<!-- Wrapper for slides -->
						<div class="carousel-inner" role="listbox" align="center" >
							<div class="item active">
								<div class="container" align="center" style="margin-left: 0;margin-right: 0;width: 100%;
												 ">
									<ul class="w3-ul w3-border listmovie1">
										<li><h2>영화 순위 11 ~20 위</h2></li>
									</ul>
								</div>
							</div>

							<div class="item">
								<div class="container" align="center" style="margin-left: 0;margin-right: 0;width: 100%;">
									<ul class="w3-ul w3-border listmovie2">
										<li><h2>영화 순위 11 ~20 위</h2></li>
									</ul>
								</div>
							</div>
							<div class="item">
								<div class="container" align="center" style="margin-left: 0;margin-right: 0;width: 100%;">
									<ul class="w3-ul w3-border listmovie3">
										<li><h2>영화 순위 11 ~20 위</h2></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			
			<div class="showdata w3-panel w3-border w3-round-xlarge" style=" opacity:0;position: absolute;left: 25%;width: 0;top: 28;height: 0; overflow: scroll;">
				
			</div>
			</div>
		
	</div>
</body>

</html>
<script>
	$("#myCarousel").carousel({interval: false });
	$("#myCarousel1").carousel({interval: false });
	

	//Enable Carousel Indicators
	$(".navbar-nav li a").click(function(){
		 $('ul li').removeClass("active");
		 $(this).parent().addClass("active");
// 		 window.alert($(this).attr("value"));
			var tmp=$(this).attr("value");
 		 $("#myCarousel").carousel(Number(tmp));
 		$("#myCarousel1").carousel(Number(tmp));
	});
	$(".bottom-container").mouseleave(function(){
// 		$(".showdata").hide();
		$(".showdata").animate({
	           height: '0',
	            width: '0',
	            opacity:'0'
	        });
		$(".movielist").animate({
			width:'80%',
			left:'10%'
		});
		
	});
	getData();
	function getData(){
		$.ajax({
			"url" : "/mainView/ajax",
			"method" : "post",
			"data" : {
				"sel" : "cnt"
			}
		}).done(function(a) {
			<c:forEach var="i" begin="0" end="9">
			var s="<a href=\"/detail/print?code="+a[${i }].link+"\" target=\"_blank\" ";
				s+="style=\"width: 125px;\"> ";
				s+="<img src=\""+a[${i }].image+"\" ";
				s+="alt=\"Lights\" style=\"width: 125px; height: 204px;\"/>";
				s+="<div class=\"caption\">";
				s+="<p>평점 : "+a[${i }].userRating+ "</p>";
				s+="</div>";
				s+="</a>";
			$(".href${i+1 }").append(s);
			</c:forEach>
			<c:forEach var="i" begin="10" end="20">
			var s="<li><a class='preview' href=\"/detail/print?code="+a[${i }].link+"\" value=\""+a[${i }].link+"\">"+a[${i }].title+"</a></li>";
			$(".listmovie1").append(s);
			</c:forEach>
			
			$(".preview").on("mouseover",function(){
// 				console.log("dfafefaef");
				var tmpp=$(this);
				$.ajax({
					"url" : "/detail/print2?",
					"method" : "post",
					"data" : {
						"code" : $(this).attr("value")
					}
				}).done(function(a) {
// 		 		var s="<img src=\""+$(this).attr("value");
// 		 		s+="\" class=\"img-thumbnail\" width=\"304\" height=\"236\" style=\"margin-top:30;\">";
//		 		console.log(s);
					$(".movielist").animate({
						width:'25%',
						left:'0%'
					});
		 			$(".showdata").html(a);
		 			$(".showdata").css({
			 	           height: '0',
			 	            width: '0',
			 	            opacity:'0'
			 	        });
		 			$(".showdata").animate({
		 	           height: '85%',
		 	            width: '75%',
		 	            opacity:'1'
		 	        });
		 			//style=" position: absolute;left: 25%;width: 75%;top: 28;max-height: 85%; overflow: scroll;"
			});
		});
		});
	}
	getData1();
	function getData1(){
		$.ajax({
			"url" : "/mainView/ajax",
			"method" : "post",
			"data" : {
				"sel" : "cur"
			}
		}).done(function(a) {
			<c:forEach var="i" begin="0" end="9">
			var s="<a href=\"/detail/print?code="+a[${i }].link+"\" target=\"_blank\" ";
				s+="style=\"width: 125px;\"> ";
				s+="<img src=\""+a[${i }].image+"\" ";
				s+="alt=\"Lights\" style=\"width: 125px; height: 204px;\"/>";
				s+="<div class=\"caption\">";
				s+="<p>평점 : "+a[${i }].userRating+ "</p>";
				s+="</div>";
				s+="</a>";
			$(".href${i+11 }").append(s);
			</c:forEach>
			<c:forEach var="i" begin="10" end="20">
			var s="<li><a class='preview' href=\"/detail/print?code="+a[${i }].link+"\" value=\""+a[${i }].link+"\">"+a[${i }].title+"</a></li>";
			$(".listmovie2").append(s);
			</c:forEach>
			$(".preview").on("mouseover",function(){
// 				console.log("dfafefaef");
				var tmpp=$(this);
				$.ajax({
					"url" : "/detail/print2?",
					"method" : "post",
					"data" : {
						"code" : $(this).attr("value")
					}
				}).done(function(a) {
// 		 		var s="<img src=\""+$(this).attr("value");
// 		 		s+="\" class=\"img-thumbnail\" width=\"304\" height=\"236\" style=\"margin-top:30;\">";
//		 		console.log(s);
					$(".movielist").animate({
						width:'25%',
						left:'0%'
					});
		 			$(".showdata").html(a);
		 			$(".showdata").css({
			 	           height: '0',
			 	            width: '0',
			 	            opacity:'0'
			 	        });
		 			$(".showdata").animate({
		 	           height: '85%',
		 	            width: '75%',
		 	            opacity:'1'
		 	        });
			});
		});
		});
	}
	getData2();
	function getData2(){
		$.ajax({
			"url" : "/mainView/ajax",
			"method" : "post",
			"data" : {
				"sel" : "pnt"
			}
		}).done(function(a) {
			<c:forEach var="i" begin="0" end="9">
			var s="<a href=\"/detail/print?code="+a[${i }].link+"\" target=\"_blank\" ";
				s+="style=\"width: 125px;\"> ";
				s+="<img src=\""+a[${i }].image+"\" ";
				s+="alt=\"Lights\" style=\"width: 125px; height: 204px;\"/>";
				s+="<div class=\"caption\">";
				s+="<p>평점 : "+a[${i }].userRating+ "</p>";
				s+="</div>";
				s+="</a>";
			$(".href${i+21 }").append(s);
			</c:forEach>
			<c:forEach var="i" begin="10" end="20">
			var s="<li><a class='preview' href=\"/detail/print?code="+a[${i }].link+"\" value=\""+a[${i }].link+"\">"+a[${i }].title+"</a></li>";
			$(".listmovie3").append(s);
			</c:forEach>
			$(".preview").on("mouseover",function(){
// 				console.log("dfafefaef");
				var tmpp=$(this);
				$.ajax({
					"url" : "/detail/print2?",
					"method" : "post",
					"data" : {
						"code" : $(this).attr("value")
					}
				}).done(function(a) {
// 		 		var s="<img src=\""+$(this).attr("value");
// 		 		s+="\" class=\"img-thumbnail\" width=\"304\" height=\"236\" style=\"margin-top:30;\">";
//		 		console.log(s);
					$(".movielist").animate({
						width:'25%',
						left:'0%'
					});
		 			$(".showdata").html(a);
		 			$(".showdata").css({
			 	           height: '0',
			 	            width: '0',
			 	            opacity:'0'
			 	        });
		 			$(".showdata").animate({
		 	           height: '85%',
		 	            width: '75%',
		 	            opacity:'1'
		 	        });
			});
		});
		});
	}
	
	
</script>